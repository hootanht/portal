"use strict";(self.webpackChunkkdz_portal=self.webpackChunkkdz_portal||[]).push([[769],{7769:(N,C,o)=>{o.r(C),o.d(C,{PerRegisterModule:()=>G});var m=o(6630),l=o(4006),e=o(4650),d=o(795),b=o(599),p=o(4859),f=o(1576),y=o(6709),v=o(9078),g=o(3472);let x=(()=>{class u{constructor(t,n,s,i,c){this.route=t,this.router=n,this._JamRepository=s,this._swal=i,this._fb=c,this.acceptedRules=!1,this.loading=!1,this.regulationsForm=c.group({fieldId:c.nonNullable.control("",[l.kI.required])}),this.route.params.subscribe(h=>{this.fieldId=h.id})}onCheckboxChange(t){this.acceptedRules=t.checked}onSubmit(){this.loading=!0;const t={field:Number(this.fieldId)};this._JamRepository.postSportFielId(t).subscribe(()=>{this.loading=!1,this._swal.swal.fire({title:"\u067e\u06cc\u0634 \u062b\u0628\u062a\u200c\u200c\u0646\u0627\u0645 \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f.",icon:"success",confirmButtonText:"\u0628\u0633\u062a\u0646"}),this.router.navigate(["home"])},()=>{this.loading=!1})}}return u.\u0275fac=function(t){return new(t||u)(e.Y36(m.gz),e.Y36(m.F0),e.Y36(d.e),e.Y36(b.J),e.Y36(l.qu))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-regulations"]],decls:10,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",3,"largeLoading"],["fxLayout","column","fxLayoutAlign.lt-sm","center center","fxLayoutGap","20px",3,"formGroup","largeLoading","submit"],["formControlName","fieldId",1,"mr-2",3,"change"],["href","https://kdz.ir/15535/",1,"text-blue-500","hover:text-blue-700"],["mat-raised-button","","type","submit","color","primary",3,"disabled"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("submit",function(){return n.onSubmit()}),e.TgZ(2,"mat-checkbox",2),e.NdJ("change",function(i){return n.onCheckboxChange(i)}),e._uU(3," \u0627\u06cc\u0646\u062c\u0627\u0646\u0628 "),e.TgZ(4,"a",3),e._uU(5,"\u0622\u0626\u06cc\u0646\u200c\u0646\u0627\u0645\u0647"),e.qZA(),e._uU(6," \u0631\u0627 \u0628\u0637\u0648\u0631 \u06a9\u0627\u0645\u0644 \u0645\u0637\u0627\u0644\u0639\u0647 \u06a9\u0631\u062f\u0647 \u0648 \u062a\u0627\u0626\u06cc\u062f \u0645\u06cc\u200c\u06a9\u0646\u0645."),e.qZA(),e.TgZ(7,"button",4),e._uU(8,"\u062b\u0628\u062a\u200c\u0646\u0627\u0645"),e.qZA(),e._UZ(9,"app-back-button"),e.qZA()()),2&t&&(e.Q6J("largeLoading",n.loading),e.xp6(1),e.Q6J("formGroup",n.regulationsForm)("largeLoading",n.loading),e.xp6(6),e.Q6J("disabled",n.regulationsForm.invalid))},dependencies:[l._Y,l.JJ,l.JL,l.sg,l.u,p.lW,f.xw,f.SQ,f.Wh,y.oG,v.M,g.W]}),u})();var R=o(5861),A=o(2994),Z=o(4850);const J=function(){return["./","1"]},T=function(){return["./","2"]};let M=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-pre-register-home-page"]],decls:10,vars:4,consts:[[1,"text-center"],[1,"mb-2"],[1,"flex","flex-wrap","justify-center","gap-2","max-md:flex-col"],["color","accent","mat-raised-button","",1,"basis-1/3",3,"routerLink"],["mat-raised-button","","color","primary",1,"basis-1/3",3,"routerLink"],[1,"basis-1/3"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"\u0631\u0634\u062a\u0647 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",2)(5,"button",3),e._uU(6,"\u0622\u0645\u0627\u062f\u06af\u06cc \u062c\u0633\u0645\u0627\u0646\u06cc"),e.qZA(),e.TgZ(7,"button",4),e._uU(8,"\u062f\u0648\u0686\u0631\u062e\u0647 \u0633\u0648\u0627\u0631\u06cc"),e.qZA(),e._UZ(9,"app-back-button",5),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("routerLink",e.DdM(2,J)),e.xp6(2),e.Q6J("routerLink",e.DdM(3,T)))},dependencies:[p.lW,g.W,m.rH]}),u})();var U=o(511),P=o(9441),L=o(4313),S=o(9840);let j=(()=>{class u{constructor(t){this._JamRepository=t,this._setadRepository=(0,e.f3M)(U.n),this.loading=!1}report(t){this.loading=!0,this._JamRepository.preRegisterReport().subscribe(n=>{const s=n.data.filter(i=>i.field===t);this.excelGenertor(t,s)},()=>{this.loading=!1})}excelGenertor(t,n){var s=this;return(0,R.Z)(function*(){const i=new L.Workbook,c=i.addWorksheet(1==t?"\u0622\u0645\u0627\u062f\u06af\u06cc \u062c\u0633\u0645\u0627\u0646\u06cc":"\u062f\u0648\u0686\u0631\u062e\u0647\u200c\u0633\u0648\u0627\u0631\u06cc"),H=n.filter(a=>null!=a.profile).map(a=>[`${a.profile.name} ${a.profile.family}`,a.profile.birthday,a.profile.sex,a.profile.city,a.nationalCode]);c.addTable({name:"mytable",headerRow:!0,ref:"A1",rows:H,columns:[{name:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"},{name:"\u062a\u0627\u0631\u06cc\u062e \u062a\u0648\u0644\u062f"},{name:"\u062c\u0646\u0633\u06cc\u062a"},{name:"\u0634\u0647\u0631"},{name:"\u06a9\u062f \u0645\u0644\u06cc"}]}),c.columns?.forEach(a=>a.width=25),P(new Blob([yield i.xlsx.writeBuffer()]),`${S().format("jYYYYjMMjDD-HHmm")}.xlsx`),s.loading=!1})()}}return u.\u0275fac=function(t){return new(t||u)(e.Y36(d.e))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-setad-report"]],decls:10,vars:1,consts:[[1,"text-center",3,"largeLoading"],[1,"mb-2"],[1,"flex","flex-wrap","justify-center","gap-2","max-md:flex-col"],["color","accent","mat-raised-button","",1,"basis-1/3",3,"click"],["mat-raised-button","","color","primary",1,"basis-1/3",3,"click"],[1,"basis-1/3"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"\u0631\u0634\u062a\u0647 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return n.report(1)}),e._uU(6,"\u0622\u0645\u0627\u062f\u06af\u06cc \u062c\u0633\u0645\u0627\u0646\u06cc"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return n.report(2)}),e._uU(8,"\u062f\u0648\u0686\u0631\u062e\u0647 \u0633\u0648\u0627\u0631\u06cc"),e.qZA(),e._UZ(9,"app-back-button",5),e.qZA()()),2&t&&e.Q6J("largeLoading",n.loading)},dependencies:[p.lW,v.M,g.W]}),u})();const Y=[{path:"",component:M},{path:":id",component:x,canActivate:[()=>{const u=(0,e.f3M)(b.J);return(0,e.f3M)(d.e).canRegister.pipe((0,A.b)(function(){var r=(0,R.Z)(function*(t){t.access||(yield u.accessRegister())});return function(t){return r.apply(this,arguments)}}()),(0,Z.U)(r=>r.access))}]},{path:"setad/report",canActivate:[o(5372).r],component:j}];let W=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[m.Bz.forChild(Y),m.Bz]}),u})();var B=o(9759);let G=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[B.m,W]}),u})()}}]);
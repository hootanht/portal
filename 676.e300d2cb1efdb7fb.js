"use strict";(self.webpackChunkkdz_portal=self.webpackChunkkdz_portal||[]).push([[676],{5980:(C,m,n)=>{n.d(m,{g:()=>o});var o=(()=>{return(p=o||(o={}))[p.all=0]="all",p[p.needed=1]="needed",p[p.base=2]="base",o;var p})()},7846:(C,m,n)=>{n.d(m,{O:()=>p});var o=n(4650);let p=(()=>{class c{static nationalCodeChecker(r){if(!r.value)return null;if(!new RegExp("[0-9]{10}$").test(r.value))return{national:!0};if("0123456789"===r.value)return{national:!0};for(let f=0;f<10;f++)if(new RegExp(f+"{10}$").test(r.value))return{national:!0};let e=0;for(let f=0;f<9;f++)e+=(10-f)*+r.value.substr(f,1);const u=e%11,g=+r.value.substr(9,1);return u<2&&u===g||u>=2&&u===11-g?null:{national:!0}}static checkPasswords(r){return r.controls.password?.value===r.controls.confirmPassword?.value?null:{confirmPassword:!0}}constructor(){}SetStatus(r){return r.valid?"success":"error"}GetMessage(r){return r.getError("required")?"\u0627\u06cc\u0646 \u0641\u06cc\u0644\u062f\u0627\u0644\u0632\u0627\u0645\u06cc \u0645\u06cc\u0628\u0627\u0634\u062f.":r.getError("ascii")?"\u062d\u0631\u0648\u0641 \u0644\u0627\u062a\u06cc\u0646 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f.":r.getError("national")?"\u06a9\u062f \u0645\u0644\u06cc \u0634\u0645\u0627 \u062f\u0631\u0633\u062a \u0646\u0645\u06cc \u0628\u0627\u0634\u062f.":r.getError("email")?"\u0627\u06cc\u0645\u06cc\u0644 \u0634\u0645\u0627 \u062f\u0631\u0633\u062a \u0646\u0645\u06cc \u0628\u0627\u0634\u062f.":r.getError("minlength")?" \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0645\u062c\u0627\u0632 \u0631\u0627 \u0631\u0639\u0627\u06cc\u062a \u0646\u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f.":r.getError("maxlength")?"\u062d\u062f\u0627\u06a9\u062b\u0631 \u0637\u0648\u0644 \u0645\u062c\u0627\u0632 \u0631\u0627 \u0631\u0639\u0627\u06cc\u062a \u0646\u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f":r.getError("pattern")?"\u0627\u0644\u06af\u0648 \u0634\u0645\u0627 \u062f\u0631\u0633\u062a \u0646\u0645\u06cc \u0628\u0627\u0634\u062f":r.getError("phoneNumber")?"\u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646 \u0634\u0645\u0627 \u062f\u0631\u0633\u062a \u0646\u0645\u06cc \u0628\u0627\u0634\u062f.":r.parent.getError("confirmPassword")?"\u067e\u0633\u0648\u0631\u062f \u0634\u0645\u0627 \u062a\u0637\u0627\u0628\u0642 \u0646\u062f\u0627\u0631\u062f.":r.getError("max")?"\u0645\u0642\u062f\u0627\u0631 \u06a9\u0645\u062a\u0631\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f":r.getError("min")?"\u0645\u0642\u062f\u0627\u0631 \u0628\u0627\u0644\u0627\u062a\u0631\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f":""}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=o.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},2676:(C,m,n)=>{n.d(m,{p:()=>Q});var o=n(4006),p=n(8924),c=n(1441),h=(()=>{return(l=h||(h={}))[l.all=-1]="all",l[l.manthra=0]="manthra",l[l.ordoo=1]="ordoo",l[l.jam=2]="jam",h;var l})(),r=n(7846),e=n(4650),u=n(5412),g=n(9840),f=n(6842),b=n(5130),I=n(7210),P=n(5980),y=n(599),T=n(6895),A=n(4144),d=n(9549),k=n(4859),S=n(4385),x=n(3238),E=n(4044),v=n(9602);function J(l,s){if(1&l&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&l){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.label," ")}}function U(l,s){if(1&l&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&l){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.lable," ")}}let N=(()=>{class l{constructor(t,i,a,j){this.data=t,this._swalService=i,this._dialogRef=j,this._profileService=(0,e.f3M)(f.x),this.cites=b.I,this.sexTypes=I.D,this.profile=t.profile,this.fGroup=a.group({nationalCode:a.control(this.profile.nationalCode,[o.kI.required]),name:a.control(this.profile.name,[o.kI.required]),family:a.control(this.profile.family,[o.kI.required]),sex:a.control(I.D.find(Z=>Z.lable==this.profile.sex)?.value??0,[o.kI.required]),birthday:a.control(g(this.profile.birthday,"jYYYY/jMM/jDD"),[o.kI.required]),IdCardPhoto:a.control(this.profile.IdCardPhoto,[o.kI.required]),city:a.control(b.I.find(Z=>Z.label==this.profile.city)?.value??0,[o.kI.required]),sportInsurance:a.control(this.profile.sportInsurance),personalPhoto:a.control(this.profile.personalPhoto,[o.kI.required])}),this.data.mode==P.g.needed&&this.fGroup.controls.sportInsurance.addValidators(o.kI.required)}onSaveProfile(){const t=this.fGroup.value,i={nationalCode:t.nationalCode,sportInsurance:t.sportInsurance,name:t.name,family:t.family,city:t.city,birthday:t.birthday.format("jYYYY/jMM/jDD"),IdCardPhoto:t.IdCardPhoto,personalPhoto:t.personalPhoto,sex:t.sex};this._profileService.saveProfileWithNationalCode(i).subscribe(a=>{this._swalService.successFullSubmited(),this._dialogRef.close(!0)})}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(u.WI),e.Y36(y.J),e.Y36(o.qu),e.Y36(u.so))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-set-minimum-profile-dialog"]],decls:42,vars:10,consts:[["mat-dialog-title",""],[1,"flex","flex-col",3,"formGroup"],["formControlName","name","matInput",""],["formControlName","family","matInput",""],["formControlName","birthday","matInput","",3,"matDatepicker","disabled"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["formControlName","city"],[3,"value",4,"ngFor","ngForOf"],["align","start"],["formControlName","sex"],["fileType","0","eventType","-1","accept","image/jpeg","formControlName","personalPhoto",3,"nationalCode"],["fileType","1","eventType","-1","accept","image/jpeg","formControlName","IdCardPhoto",3,"nationalCode"],["fileType","6","accept","image/jpeg","formControlName","sportInsurance","eventType","2",3,"nationalCode"],["mat-button","",3,"mat-dialog-close"],["mat-raised-button","","color","accent",3,"disabled","click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"h2",0),e._uU(1,"\u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u067e\u0631\u0648\u0641\u0627\u06cc\u0644 \u062c\u062f\u06cc\u062f"),e.qZA(),e.TgZ(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field")(5,"mat-label"),e._uU(6," \u0646\u0627\u0645 "),e.qZA(),e._UZ(7,"input",2),e.qZA(),e.TgZ(8,"mat-form-field")(9,"mat-label"),e._uU(10," \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc "),e.qZA(),e._UZ(11,"input",3),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"\u062a\u0627\u0631\u06cc\u062e \u062a\u0648\u0644\u062f"),e.qZA(),e._UZ(15,"input",4)(16,"mat-datepicker-toggle",5)(17,"mat-datepicker",6,7),e.qZA(),e.TgZ(19,"mat-form-field")(20,"mat-label"),e._uU(21,"\u0634\u0647\u0631"),e.qZA(),e.TgZ(22,"mat-select",8),e.YNc(23,J,2,2,"mat-option",9),e.qZA(),e.TgZ(24,"mat-hint",10),e._uU(25,"\u0634\u0647\u0631 \u0645\u062d\u0644 \u0632\u0646\u062f\u06af\u06cc"),e.qZA()(),e.TgZ(26,"mat-form-field")(27,"mat-label"),e._uU(28,"\u062c\u0646\u0633\u06cc\u062a"),e.qZA(),e.TgZ(29,"mat-select",11),e.YNc(30,U,2,2,"mat-option",9),e.qZA()(),e.TgZ(31,"app-image-uploader",12),e._uU(32," \u0639\u06a9\u0633 \u067e\u0631\u0633\u0646\u0644\u06cc"),e.qZA(),e.TgZ(33,"app-image-uploader",13),e._uU(34," \u0639\u06a9\u0633 \u0634\u0646\u0627\u0633\u0646\u0627\u0645\u0647"),e.qZA(),e.TgZ(35,"app-image-uploader",14),e._uU(36,"\u0628\u06cc\u0645\u0647 \u0648\u0631\u0632\u0634\u06cc"),e.qZA()()(),e.TgZ(37,"mat-dialog-actions")(38,"button",15),e._uU(39,"\u0628\u0633\u062a\u0646"),e.qZA(),e.TgZ(40,"button",16),e.NdJ("click",function(){return i.onSaveProfile()}),e._uU(41,"\u0630\u062e\u06cc\u0631\u0647"),e.qZA()()),2&t){const a=e.MAs(18);e.xp6(3),e.Q6J("formGroup",i.fGroup),e.xp6(12),e.Q6J("matDatepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(7),e.Q6J("ngForOf",i.cites),e.xp6(7),e.Q6J("ngForOf",i.sexTypes),e.xp6(1),e.Q6J("nationalCode",i.data.profile.nationalCode),e.xp6(2),e.Q6J("nationalCode",i.data.profile.nationalCode),e.xp6(2),e.Q6J("nationalCode",i.data.profile.nationalCode),e.xp6(3),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("disabled",i.fGroup.invalid)}},dependencies:[T.sg,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,A.Nt,d.KE,d.hX,d.bx,d.R9,k.lW,S.gD,x.ey,u.ZT,u.uh,u.xY,u.H8,E.$,v.Mq,v.hl,v.nW]}),l})();var D=n(7392);function Y(l,s){1&l&&(e.TgZ(0,"mat-icon",1),e._uU(1,"check"),e.qZA())}function M(l,s){1&l&&(e.TgZ(0,"mat-icon",1),e._uU(1,"error"),e.qZA())}function _(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onEditProfileClick())}),e.TgZ(1,"mat-icon"),e._uU(2,"edit"),e.qZA()()}}const q=["*"];let Q=(()=>{class l{constructor(t,i,a){this._profileService=t,this._dialog=i,this._fb=a,this.onTouched=()=>{},this.touched=!1,this.isDisabled=!1,this.fControl=a.nonNullable.control("",[r.O.nationalCodeChecker]),this.fControl.valueChanges.subscribe(()=>{this.markAsTouched()})}writeValue(t){this.fControl.setValue(t)}registerOnChange(t){this.fControl.valueChanges.subscribe(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}validate(t){return t.hasValidator(o.kI.required)&&(0,p.Z)(this.fControl.value)?{required:!0}:0==this.profile?.isCompleted||(0,c.Z)(this.profile)?{inCompletedProfile:!0}:null}markAsTouched(){this.touched||(this.onTouched(),this.touched=!0)}onEditProfileClick(){this._dialog.open(N,{data:{profile:this.profile.profile,mode:this.profileMode},disableClose:!0}).afterClosed().subscribe(i=>{!0===i&&this.onSearchProfile()})}onSearchProfile(){this._profileService.getProfileWithNationalCode(this.fControl.value,h.jam,this.profileMode).subscribe(t=>{this.profile=t,this.fControl.setValue(this.profile.profile.nationalCode)})}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(f.x),e.Y36(u.uw),e.Y36(o.qu))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-profile-check-input"]],inputs:{profileMode:"profileMode"},features:[e._Bn([{provide:o.JU,multi:!0,useExisting:l},{provide:o.Cf,multi:!0,useExisting:l}])],ngContentSelectors:q,decls:13,vars:6,consts:[["matInput","",3,"formControl"],["matSuffix",""],["color","accent","matSuffix","","type","button","mat-icon-button","",3,"disabled","click"],["matSuffix","",4,"ngIf"],["mat-icon-button","","type","button","color","accent",3,"click",4,"ngIf"],[3,"innerText"],["mat-icon-button","","type","button","color","accent",3,"click"]],template:function(t,i){if(1&t&&(e.F$t(),e.TgZ(0,"div")(1,"mat-form-field")(2,"mat-label"),e.Hsn(3),e.qZA(),e._UZ(4,"input",0),e.TgZ(5,"div",1)(6,"button",2),e.NdJ("click",function(){return i.onSearchProfile()}),e.TgZ(7,"mat-icon"),e._uU(8,"search"),e.qZA()(),e.YNc(9,Y,2,0,"mat-icon",3),e.YNc(10,M,2,0,"mat-icon",3),e.qZA()(),e.YNc(11,_,3,0,"button",4),e._UZ(12,"span",5),e.qZA()),2&t){let a;e.xp6(4),e.Q6J("formControl",i.fControl),e.xp6(2),e.Q6J("disabled",i.fControl.invalid||i.fControl.untouched),e.xp6(3),e.Q6J("ngIf",null==i.profile?null:i.profile.isCompleted),e.xp6(1),e.Q6J("ngIf",!(null!=i.profile&&i.profile.isCompleted)),e.xp6(1),e.Q6J("ngIf",null==i.profile?null:i.profile.editable),e.xp6(1),e.Q6J("innerText",(null!==(a=null==i.profile||null==i.profile.profile?null:i.profile.profile.name)&&void 0!==a?a:"-")+" "+(null!==(a=null==i.profile||null==i.profile.profile?null:i.profile.profile.family)&&void 0!==a?a:"-"))}},dependencies:[T.O5,o.Fj,o.JJ,o.oH,A.Nt,d.KE,d.hX,d.R9,k.RK,D.Hw],styles:["span[_ngcontent-%COMP%]{display:inline}"]}),l})()},5130:(C,m,n)=>{n.d(m,{I:()=>o});const o=[{value:1,label:"\u062a\u0647\u0631\u0627\u0646"},{value:2,label:"\u06cc\u0632\u062f"},{value:3,label:"\u0634\u06cc\u0631\u0627\u0632"},{value:4,label:"\u0627\u0635\u0641\u0647\u0627\u0646"},{value:5,label:"\u06a9\u0631\u0645\u0627\u0646"},{value:6,label:"\u06a9\u0631\u062c"},{value:7,label:"\u0627\u0647\u0648\u0627\u0632"},{value:8,label:"\u0632\u0627\u0647\u062f\u0627\u0646"}]},7210:(C,m,n)=>{n.d(m,{D:()=>o});const o=[{value:1,lable:"\u0645\u0631\u062f"},{value:0,lable:"\u0632\u0646"}]}}]);